# ุฏููู ุงุณุชุฎุฏุงู APIs ุฅุฏุงุฑุฉ ุทูุงุจ ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุฌููุนุฉ APIs ุฎุงุตุฉ ุจุฅุฏุงุฑุฉ ุทูุงุจ ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ ูุงูุชู ุชุชูุญ:
- ุฌูุจ ูุนูููุงุช ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ ูุน ุงูุญููุงุช ุงููุฑุนูุฉ ุงููุดุทุฉ ููุท
- ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ ุชููุงุฆูุงู ูููุฏุฑุณุฉ ุงููุฑุขููุฉ (ูุชู ุฑุจุทู ุจุงููุณุฌุฏ ูุงููุฏุฑุณุฉ ุชููุงุฆูุงู)
- ุฅุฏุงุฑุฉ ุงูุทูุงุจ (ุนุฑุถุ ุชุญุฏูุซุ ุฅูุบุงุก ุชูุนูู)
- ุงูุจุญุซ ูุงูููุชุฑุฉ ุงููุชูุฏูุฉ

---

## ๐ ูุงุฆูุฉ ุงูู APIs

### 1. ุฌูุจ ูุนูููุงุช ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ

**Endpoint:** `GET /api/quran-schools/{quranCircleId}/info`

**ุงููุตู:** ูุฌูุจ ูุนูููุงุช ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ ูุน ุงูุญููุงุช ุงููุฑุนูุฉ ุงููุดุทุฉ ููุท

**ุงููุนุงููุงุช:**
- `quranCircleId` (path parameter): ูุนุฑู ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "data": {
    "quran_school": {
      "id": 1,
      "name": "ูุฏุฑุณุฉ ุงูููุฑ ุงููุฑุขููุฉ",
      "description": "ูุฏุฑุณุฉ ูุชุญููุธ ุงููุฑุขู ุงููุฑูู",
      "mosque": {
        "id": 1,
        "name": "ูุณุฌุฏ ุงูููุฑ",
        "location": "ุญู ุงููููุฐุฌ"
      }
    },
    "circle_groups": [
      {
        "id": 1,
        "name": "ุงูุญููุฉ ุงูุฃููู",
        "description": "ูููุจุชุฏุฆูู",
        "meeting_days": ["ุงูุฃุญุฏ", "ุงูุซูุงุซุงุก", "ุงูุฎููุณ"],
        "teacher": {
          "id": 1,
          "name": "ุฃุญูุฏ ูุญูุฏ",
          "phone": "0501234567"
        },
        "students_count": 15
      }
    ],
    "statistics": {
      "total_students": 45,
      "active_students": 42,
      "total_groups": 3
    }
  }
}
```

---

### 2. ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ

**Endpoint:** `POST /api/quran-schools/{quranCircleId}/students`

**ุงููุตู:** ูุถูู ุทุงูุจ ุฌุฏูุฏ ูููุฏุฑุณุฉ ุงููุฑุขููุฉ ูุน ุฑุจุทู ุชููุงุฆูุงู ุจุงููุณุฌุฏ ูุงููุฏุฑุณุฉ

**ุงููุนุงููุงุช:**
- `quranCircleId` (path parameter): ูุนุฑู ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
  "identity_number": "1234567890", // ูุทููุจุ ูุฑูุฏ
  "name": "ูุญูุฏ ุฃุญูุฏ", // ูุทููุจ
  "phone": "0501234567", // ุงุฎุชูุงุฑู
  "guardian_name": "ุฃุญูุฏ ูุญูุฏ", // ูุทููุจ
  "guardian_phone": "0507654321", // ูุทููุจ
  "birth_date": "2010-01-01", // ุงุฎุชูุงุฑู
  "nationality": "ุณุนูุฏู", // ุงุฎุชูุงุฑู
  "education_level": "ุงุจุชุฏุงุฆู", // ุงุฎุชูุงุฑู
  "neighborhood": "ุญู ุงููููุฐุฌ", // ุงุฎุชูุงุฑู
  "circle_group_id": 1, // ูุทููุจุ ูุนุฑู ุงูุญููุฉ ุงููุฑุนูุฉ
  "enrollment_date": "2024-01-01", // ุงุฎุชูุงุฑูุ ุงูุชุฑุงุถู: ุงูููู
  "memorization_plan": "ุญูุธ ุฌุฒุก ุนู", // ุงุฎุชูุงุฑู
  "review_plan": "ูุฑุงุฌุนุฉ ููููุฉ" // ุงุฎุชูุงุฑู
}
```

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฅุถุงูุฉ ุงูุทุงูุจ ุจูุฌุงุญ",
  "data": {
    "student": {
      "id": 100,
      "identity_number": "1234567890",
      "name": "ูุญูุฏ ุฃุญูุฏ",
      "phone": "0501234567",
      "guardian_name": "ุฃุญูุฏ ูุญูุฏ",
      "guardian_phone": "0507654321",
      "birth_date": "2010-01-01",
      "nationality": "ุณุนูุฏู",
      "education_level": "ุงุจุชุฏุงุฆู",
      "neighborhood": "ุญู ุงููููุฐุฌ",
      "enrollment_date": "2024-01-01",
      "memorization_plan": "ุญูุธ ุฌุฒุก ุนู",
      "review_plan": "ูุฑุงุฌุนุฉ ููููุฉ",
      "default_password": "7890", // ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ (ุขุฎุฑ 4 ุฃุฑูุงู ูู ุงููููุฉ)
      "quran_school": {
        "id": 1,
        "name": "ูุฏุฑุณุฉ ุงูููุฑ ุงููุฑุขููุฉ"
      },
      "circle_group": {
        "id": 1,
        "name": "ุงูุญููุฉ ุงูุฃููู"
      },
      "mosque": {
        "id": 1,
        "name": "ูุณุฌุฏ ุงูููุฑ"
      }
    }
  }
}
```

---

### 3. ุฌูุจ ูุงุฆูุฉ ุงูุทูุงุจ

**Endpoint:** `GET /api/quran-schools/{quranCircleId}/students`

**ุงููุตู:** ูุฌูุจ ูุงุฆูุฉ ุทูุงุจ ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ ูุน ุฅููุงููุฉ ุงูููุชุฑุฉ ูุงูุจุญุซ

**ุงููุนุงููุงุช:**
- `quranCircleId` (path parameter): ูุนุฑู ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ
- `circle_group_id` (query parameter): ููุชุฑุฉ ุญุณุจ ุงูุญููุฉ ุงููุฑุนูุฉ
- `is_active` (query parameter): ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ (true/false)
- `search` (query parameter): ุงูุจุญุซ ุจุงูุงุณู ุฃู ุฑูู ุงููููุฉ
- `per_page` (query parameter): ุนุฏุฏ ุงููุชุงุฆุฌ ูู ุงูุตูุญุฉ (ุงูุชุฑุงุถู: 15)

**ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู:**
```
GET /api/quran-schools/1/students
GET /api/quran-schools/1/students?circle_group_id=1
GET /api/quran-schools/1/students?is_active=true
GET /api/quran-schools/1/students?search=ูุญูุฏ
GET /api/quran-schools/1/students?circle_group_id=1&is_active=true&per_page=20
```

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "data": {
    "students": [
      {
        "id": 100,
        "identity_number": "1234567890",
        "name": "ูุญูุฏ ุฃุญูุฏ",
        "phone": "0501234567",
        "guardian_name": "ุฃุญูุฏ ูุญูุฏ",
        "guardian_phone": "0507654321",
        "enrollment_date": "2024-01-01",
        "circle_group_id": 1,
        "is_active": true,
        "education_level": "ุงุจุชุฏุงุฆู",
        "memorization_plan": "ุญูุธ ุฌุฒุก ุนู",
        "circle_group": {
          "id": 1,
          "name": "ุงูุญููุฉ ุงูุฃููู",
          "teacher": {
            "id": 1,
            "name": "ุฃุญูุฏ ูุญูุฏ"
          }
        }
      }
    ],
    "pagination": {
      "current_page": 1,
      "per_page": 15,
      "total": 45,
      "last_page": 3
    }
  }
}
```

---

### 4. ุชุญุฏูุซ ูุนูููุงุช ุทุงูุจ

**Endpoint:** `PUT /api/quran-schools/{quranCircleId}/students/{studentId}`

**ุงููุตู:** ูุญุฏุซ ูุนูููุงุช ุทุงูุจ ููุฌูุฏ ูู ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ

**ุงููุนุงููุงุช:**
- `quranCircleId` (path parameter): ูุนุฑู ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ
- `studentId` (path parameter): ูุนุฑู ุงูุทุงูุจ

**ุงูุจูุงูุงุช ุงููุงุจูุฉ ููุชุญุฏูุซ:**
```json
{
  "name": "ูุญูุฏ ุฃุญูุฏ ุงููุญุฏุซ", // ุงุฎุชูุงุฑู
  "phone": "0509876543", // ุงุฎุชูุงุฑู
  "guardian_name": "ุฃุญูุฏ ูุญูุฏ", // ุงุฎุชูุงุฑู
  "guardian_phone": "0507654321", // ุงุฎุชูุงุฑู
  "birth_date": "2010-01-01", // ุงุฎุชูุงุฑู
  "nationality": "ุณุนูุฏู", // ุงุฎุชูุงุฑู
  "education_level": "ูุชูุณุท", // ุงุฎุชูุงุฑู
  "neighborhood": "ุญู ุงูุฃูู", // ุงุฎุชูุงุฑู
  "circle_group_id": 2, // ุงุฎุชูุงุฑูุ ุชุบููุฑ ุงูุญููุฉ ุงููุฑุนูุฉ
  "memorization_plan": "ุญูุธ ุฌุฒุก ุนู + ุชุจุงุฑู", // ุงุฎุชูุงุฑู
  "review_plan": "ูุฑุงุฌุนุฉ ููููุฉ", // ุงุฎุชูุงุฑู
  "is_active": false // ุงุฎุชูุงุฑูุ ุชูุนูู/ุฅูุบุงุก ุชูุนูู
}
```

---

### 5. ุฅูุบุงุก ุชูุนูู ุทุงูุจ

**Endpoint:** `DELETE /api/quran-schools/{quranCircleId}/students/{studentId}`

**ุงููุตู:** ููุบู ุชูุนูู ุงูุทุงูุจ (ุญุฐู ููุทูู) ุฏูู ุญุฐู ุจูุงูุงุชู ูุนููุงู

**ุงููุนุงููุงุช:**
- `quranCircleId` (path parameter): ูุนุฑู ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ
- `studentId` (path parameter): ูุนุฑู ุงูุทุงูุจ

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฅูุบุงุก ุชูุนูู ุงูุทุงูุจ ุจูุฌุงุญ"
}
```

---

## ๐ง ุงูููุฒุงุช ุงูุฎุงุตุฉ

### 1. ุงูุฑุจุท ุงูุชููุงุฆู
- ุนูุฏ ุฅุถุงูุฉ ุทุงูุจุ ูุชู ุฑุจุทู ุชููุงุฆูุงู ุจุงููุณุฌุฏ ูุงููุฏุฑุณุฉ ุงููุฑุขููุฉ
- ูุง ุญุงุฌุฉ ูุชุญุฏูุฏ `mosque_id` ุฃู `quran_circle_id` ูุฏููุงู

### 2. ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ
- ูุชู ุฅูุดุงุก ูููุฉ ูุฑูุฑ ุงูุชุฑุงุถูุฉ ูู ุขุฎุฑ 4 ุฃุฑูุงู ูู ุฑูู ุงููููุฉ
- ุงูุทุงูุจ ูุทุงูุจ ุจุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุนูุฏ ุฃูู ุชุณุฌูู ุฏุฎูู

### 3. ุงูุชุญูู ูู ุงูุตุญุฉ
- ูุญุต ุดุงูู ูุฌููุน ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
- ุงูุชุฃูุฏ ูู ุนุฏู ุชูุฑุงุฑ ุฑูู ุงููููุฉ
- ุงูุชุญูู ูู ูุฌูุฏ ุงูุญููุฉ ุงููุฑุนูุฉ ูุฃููุง ูุดุทุฉ ูุชูุชูู ูููุฏุฑุณุฉ

### 4. ุงูุญูุงูุฉ ูุงูุฃูุงู
- ูุญุต ุงูุตูุงุญูุงุช ููุชุฃูุฏ ูู ุงูุชูุงุก ุงูุทุงูุจ ูููุฏุฑุณุฉ ุงููุญุฏุฏุฉ
- ุญุฐู ููุทูู ุจุฏูุงู ูู ุงูุญุฐู ุงููุนูู ููุจูุงูุงุช

---

## ๐งช ุงุฎุชุจุงุฑ ุงูู APIs

### ุงุฎุชุจุงุฑ PHP:
```bash
php test_quran_school_student_api.php
```

### ุงุฎุชุจุงุฑ PowerShell:
```powershell
.\test_quran_school_api.ps1
```

---

## ๐ฑ ุงุณุชุฎุฏุงู ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

### ูุซุงู ุจู JavaScript/Axios:

```javascript
// ุฌูุจ ูุนูููุงุช ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ
const getQuranSchoolInfo = async (quranSchoolId) => {
  const response = await axios.get(`/api/quran-schools/${quranSchoolId}/info`);
  return response.data;
};

// ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ
const addStudent = async (quranSchoolId, studentData) => {
  const response = await axios.post(`/api/quran-schools/${quranSchoolId}/students`, studentData);
  return response.data;
};

// ุฌูุจ ูุงุฆูุฉ ุงูุทูุงุจ ูุน ุงูููุชุฑุฉ
const getStudents = async (quranSchoolId, filters = {}) => {
  const params = new URLSearchParams(filters);
  const response = await axios.get(`/api/quran-schools/${quranSchoolId}/students?${params}`);
  return response.data;
};

// ุชุญุฏูุซ ุทุงูุจ
const updateStudent = async (quranSchoolId, studentId, updateData) => {
  const response = await axios.put(`/api/quran-schools/${quranSchoolId}/students/${studentId}`, updateData);
  return response.data;
};

// ุฅูุบุงุก ุชูุนูู ุทุงูุจ
const deactivateStudent = async (quranSchoolId, studentId) => {
  const response = await axios.delete(`/api/quran-schools/${quranSchoolId}/students/${studentId}`);
  return response.data;
};
```

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### 1. ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงููุฏุฑุณุฉ ุงููุฑุขููุฉ:
1. ุงุณุชุฏุนุงุก `/api/quran-schools/{id}/info` ูุนุฑุถ ูุนูููุงุช ุงููุฏุฑุณุฉ ูุงูุญููุงุช ุงููุฑุนูุฉ
2. ุนุฑุถ ูููุฐุฌ ุฅุถุงูุฉ ุทุงูุจ ูุน ูุงุฆูุฉ ุงูุญููุงุช ุงููุฑุนูุฉ ุงููุชุงุญุฉ
3. ุนูุฏ ุฅุฑุณุงู ุงููููุฐุฌุ ุงุณุชุฏุนุงุก `POST /api/quran-schools/{id}/students`

### 2. ูุงุฌูุฉ ุนุฑุถ ุงูุทูุงุจ:
1. ุงุณุชุฏุนุงุก `GET /api/quran-schools/{id}/students` ูุนุฑุถ ูุงุฆูุฉ ุงูุทูุงุจ
2. ุฅุถุงูุฉ ููุงุชุฑ ููุญููุฉ ุงููุฑุนูุฉ ูุงูุญุงูุฉ
3. ุฅุถุงูุฉ ูุฑุจุน ุจุญุซ ูุฅูุฌุงุฏ ุทูุงุจ ูุญุฏุฏูู

### 3. ูุงุฌูุฉ ุชุนุฏูู ุงูุทุงูุจ:
1. ุงุณุชุฏุนุงุก `PUT /api/quran-schools/{id}/students/{studentId}` ูุชุญุฏูุซ ุงูุจูุงูุงุช
2. ุงูุณูุงุญ ุจููู ุงูุทุงูุจ ุจูู ุงูุญููุงุช ุงููุฑุนูุฉ ุฏุงุฎู ููุณ ุงููุฏุฑุณุฉ

---

## โ ุงููููุฒุงุช ุงููุญููุฉ

1. **API ููุญุฏ ูููุฏุฑุณุฉ ุงููุฑุขููุฉ** โ
2. **ุฑุจุท ุชููุงุฆู ุจุงููุณุฌุฏ ูุงููุฏุฑุณุฉ** โ  
3. **ุนุฑุถ ุงูุญููุงุช ุงููุฑุนูุฉ ุงููุดุทุฉ ููุท** โ
4. **ุฅุฏุงุฑุฉ ุดุงููุฉ ููุทูุงุจ** โ
5. **ููุชุฑุฉ ูุจุญุซ ูุชูุฏู** โ
6. **ุญูุงูุฉ ูุชุญูู ูู ุงูุตุญุฉ** โ
7. **ุงุฎุชุจุงุฑุงุช ุดุงููุฉ** โ

ุงูู APIs ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ููููู ุฑุจุทูุง ุจุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูุจุงุดุฑุฉ!
